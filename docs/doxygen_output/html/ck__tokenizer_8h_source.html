<!-- Doxygen custom header with link back to main docs -->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ck_tokenizer.h Source File</title>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<style>
/* Back to docs banner */
.docs-banner {
    background: linear-gradient(135deg, #2a2a2a 0%, #363636 50%, #2a2a2a 100%);
    border-bottom: 3px solid #ffb400;
    padding: 0.5rem 1rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}
.docs-banner a {
    color: #ffb400;
    text-decoration: none;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}
.docs-banner a:hover {
    color: #ffc933;
}
.docs-banner .logo {
    background: #ffb400;
    color: #1d1d1d;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-weight: 700;
    font-family: monospace;
}
.docs-banner .subtitle {
    color: #707070;
    font-size: 0.85rem;
}
</style>
</head>
<body>
<div class="docs-banner">
    <a href="../index.html">
        <span class="logo">CK</span>
        <span>‚Üê Back to C-Kernel-Engine Docs</span>
    </a>
    <span class="subtitle">Doxygen Source Documentation</span>
</div>
<div id="top">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('ck__tokenizer_8h_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">ck_tokenizer.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="ck__tokenizer_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * C-Kernel-Engine BPE Tokenizer</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Pure C implementation of Byte-Pair Encoding tokenizer</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * compatible with HuggingFace tokenizer.json format.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * The tokenizer uses a memory pool for allocations and maps tokens</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * directly to dense embedding indices (token_id == embedding row).</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * By Anthony Shivakumar</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#ifndef CK_TOKENIZER_H</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#define CK_TOKENIZER_H</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160; </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;stddef.h&gt;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;stdbool.h&gt;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160; </div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160; </div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">/* Maximum token length in bytes */</span></div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="ck__tokenizer_8h.html#abb08eb27f9bc2409d72e7062f332feeb">   25</a></span>&#160;<span class="preprocessor">#define CK_MAX_TOKEN_LEN 256</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">/* Maximum vocabulary size */</span></div>
<div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="ck__tokenizer_8h.html#a28501527109241976fb03e6118259a32">   28</a></span>&#160;<span class="preprocessor">#define CK_MAX_VOCAB_SIZE 256000</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">/* Memory pool block size */</span></div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="ck__tokenizer_8h.html#aafbed2100fc7b365d7cb7acdd8548b13">   31</a></span>&#160;<span class="preprocessor">#define CK_POOL_BLOCK_SIZE (1024 * 1024)  </span><span class="comment">/* 1MB */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment"> * Memory pool for tokenizer allocations.</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment"> * Avoids malloc overhead for small allocations.</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="structCKPoolBlock.html">   37</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structCKPoolBlock.html">CKPoolBlock</a> {</div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="structCKPoolBlock.html#a28b34d622ad98214bd709675b430f459">   38</a></span>&#160;    uint8_t *<a class="code" href="structCKPoolBlock.html#a28b34d622ad98214bd709675b430f459">data</a>;</div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="structCKPoolBlock.html#ad15144404362a0676f0c46a5b5a8d0ba">   39</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="structCKPoolBlock.html#ad15144404362a0676f0c46a5b5a8d0ba">used</a>;</div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="structCKPoolBlock.html#ae3840902acd7df911c6273760f3c63d5">   40</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="structCKPoolBlock.html#ae3840902acd7df911c6273760f3c63d5">capacity</a>;</div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="structCKPoolBlock.html#a39f197d57191d7ab700d17ad918d03c5">   41</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structCKPoolBlock.html">CKPoolBlock</a> *<a class="code" href="structCKPoolBlock.html#a39f197d57191d7ab700d17ad918d03c5">next</a>;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;} <a class="code" href="structCKPoolBlock.html">CKPoolBlock</a>;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; </div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="structCKMemPool.html">   44</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="structCKMemPool.html#ac7919cceb17dccce7584f443a2f9eb4e">   45</a></span>&#160;    <a class="code" href="structCKPoolBlock.html">CKPoolBlock</a> *<a class="code" href="structCKMemPool.html#ac7919cceb17dccce7584f443a2f9eb4e">head</a>;</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="structCKMemPool.html#a4fa13f6e99896ec541cba40c99e70f9c">   46</a></span>&#160;    <a class="code" href="structCKPoolBlock.html">CKPoolBlock</a> *<a class="code" href="structCKMemPool.html#a4fa13f6e99896ec541cba40c99e70f9c">current</a>;</div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="structCKMemPool.html#ac7e607885b7d68b849240ab7cd91ddac">   47</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="structCKMemPool.html#ac7e607885b7d68b849240ab7cd91ddac">total_allocated</a>;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;} <a class="code" href="structCKMemPool.html">CKMemPool</a>;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment"> * Vocabulary entry.</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment"> * Token string -&gt; ID mapping.</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment"> * IDs are dense indices into the embedding table.</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="structCKVocabEntry.html">   55</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structCKVocabEntry.html">CKVocabEntry</a> {</div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="structCKVocabEntry.html#a408830871dd1e7bb7fd60fccd7097d13">   56</a></span>&#160;    <span class="keywordtype">char</span> *<a class="code" href="structCKVocabEntry.html#a408830871dd1e7bb7fd60fccd7097d13">token</a>;           <span class="comment">/* Token string (UTF-8) */</span></div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="structCKVocabEntry.html#a667d73bdaec1e4affe0a3f5f397aba85">   57</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structCKVocabEntry.html#a667d73bdaec1e4affe0a3f5f397aba85">token_len</a>;         <span class="comment">/* Length in bytes */</span></div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="structCKVocabEntry.html#ada9b8b0a4490ac11fa8c1571dbd540e9">   58</a></span>&#160;    int32_t <a class="code" href="structCKVocabEntry.html#ada9b8b0a4490ac11fa8c1571dbd540e9">id</a>;            <span class="comment">/* Dense embedding index */</span></div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="structCKVocabEntry.html#a2d8a45dd0e89ae71a3a97e0bc02632df">   59</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structCKVocabEntry.html">CKVocabEntry</a> *<a class="code" href="structCKVocabEntry.html#a2d8a45dd0e89ae71a3a97e0bc02632df">next</a>;  <span class="comment">/* Hash chain */</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;} <a class="code" href="structCKVocabEntry.html">CKVocabEntry</a>;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment"> * BPE merge rule.</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment"> * Pair of token IDs -&gt; merged token ID.</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="structCKMergeRule.html">   66</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="structCKMergeRule.html#a2f4fb999c8ad7581926948836ad96949">   67</a></span>&#160;    int32_t <a class="code" href="structCKMergeRule.html#a2f4fb999c8ad7581926948836ad96949">left</a>;</div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="structCKMergeRule.html#ad429814a773c9faa0526991078347e4f">   68</a></span>&#160;    int32_t <a class="code" href="structCKMergeRule.html#ad429814a773c9faa0526991078347e4f">right</a>;</div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="structCKMergeRule.html#adacd50b760f95bfe3bd04d8618fb4c19">   69</a></span>&#160;    int32_t <a class="code" href="structCKMergeRule.html#adacd50b760f95bfe3bd04d8618fb4c19">merged</a>;</div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="structCKMergeRule.html#af89e288682de3079e22683c57b629d4c">   70</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structCKMergeRule.html#af89e288682de3079e22683c57b629d4c">priority</a>;  <span class="comment">/* Lower = higher priority (earlier in merges list) */</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;} <a class="code" href="structCKMergeRule.html">CKMergeRule</a>;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment"> * Tokenizer state.</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="structCKTokenizer.html">   76</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="comment">/* Memory pool */</span></div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="structCKTokenizer.html#a32688c8d51853200d766b68f9e27b3e4">   78</a></span>&#160;    <a class="code" href="structCKMemPool.html">CKMemPool</a> <a class="code" href="structCKTokenizer.html#a32688c8d51853200d766b68f9e27b3e4">pool</a>;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="comment">/* Vocabulary: token string -&gt; ID */</span></div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="structCKTokenizer.html#ada5e95a402ab1abb0295df8e1ecccc04">   81</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structCKTokenizer.html#ada5e95a402ab1abb0295df8e1ecccc04">vocab_size</a>;</div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="structCKTokenizer.html#a52c39349a30ea0dfb6ab48fa975e6fed">   82</a></span>&#160;    <a class="code" href="structCKVocabEntry.html">CKVocabEntry</a> **<a class="code" href="structCKTokenizer.html#a52c39349a30ea0dfb6ab48fa975e6fed">vocab_hash</a>;  <span class="comment">/* Hash table for string -&gt; ID */</span></div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="structCKTokenizer.html#a8271e0624b9f4efe137f25938204bbcb">   83</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structCKTokenizer.html#a8271e0624b9f4efe137f25938204bbcb">vocab_hash_size</a>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="comment">/* Reverse vocabulary: ID -&gt; token string */</span></div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="structCKTokenizer.html#af7e721862c04e51d7e68e1bb2658ddd7">   86</a></span>&#160;    <span class="keywordtype">char</span> **<a class="code" href="structCKTokenizer.html#af7e721862c04e51d7e68e1bb2658ddd7">id_to_token</a>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="comment">/* BPE merge rules */</span></div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="structCKTokenizer.html#a9fbb827cf89c461569b0dfc2b8ef5fe9">   89</a></span>&#160;    <a class="code" href="structCKMergeRule.html">CKMergeRule</a> *<a class="code" href="structCKTokenizer.html#a9fbb827cf89c461569b0dfc2b8ef5fe9">merges</a>;</div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="structCKTokenizer.html#ad5b185154ee2ab0a381c7bf49918d836">   90</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structCKTokenizer.html#ad5b185154ee2ab0a381c7bf49918d836">num_merges</a>;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="comment">/* Merge lookup: (left_id, right_id) -&gt; merge index */</span></div>
<div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="structCKTokenizer.html#ae92078c4ca97a78a2fcce8d3193d4cd1">   93</a></span>&#160;    <span class="keywordtype">int</span> *<a class="code" href="structCKTokenizer.html#ae92078c4ca97a78a2fcce8d3193d4cd1">merge_hash</a>;</div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="structCKTokenizer.html#a9b7a80f60b651e50d40ffb9b1130eccc">   94</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structCKTokenizer.html#a9b7a80f60b651e50d40ffb9b1130eccc">merge_hash_size</a>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="comment">/* Special tokens */</span></div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="structCKTokenizer.html#a35f73551a504361ab117452f40fe81bf">   97</a></span>&#160;    int32_t <a class="code" href="structCKTokenizer.html#a35f73551a504361ab117452f40fe81bf">unk_id</a>;</div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="structCKTokenizer.html#a0e16f753888edda5716eefba903d6001">   98</a></span>&#160;    int32_t <a class="code" href="structCKTokenizer.html#a0e16f753888edda5716eefba903d6001">bos_id</a>;</div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="structCKTokenizer.html#a70622f7babd13c77a93825497fdf2c5f">   99</a></span>&#160;    int32_t <a class="code" href="structCKTokenizer.html#a70622f7babd13c77a93825497fdf2c5f">eos_id</a>;</div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="structCKTokenizer.html#af683cca99ab7ca70c6b680c4a276277b">  100</a></span>&#160;    int32_t <a class="code" href="structCKTokenizer.html#af683cca99ab7ca70c6b680c4a276277b">pad_id</a>;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="comment">/* Config */</span></div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="structCKTokenizer.html#af13d7f81c356bfb82e80d6742352a376">  103</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structCKTokenizer.html#af13d7f81c356bfb82e80d6742352a376">add_bos</a>;</div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="structCKTokenizer.html#a8668f96025566da654689955d9407400">  104</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structCKTokenizer.html#a8668f96025566da654689955d9407400">add_eos</a>;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;} <a class="code" href="structCKTokenizer.html">CKTokenizer</a>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160; </div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment"> * Initialize memory pool.</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="keywordtype">void</span> <a class="code" href="ck__tokenizer_8h.html#a22dd876d597bf3a6f43e60d0702a7065">ck_pool_init</a>(<a class="code" href="structCKMemPool.html">CKMemPool</a> *pool);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment"> * Allocate from memory pool.</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="keywordtype">void</span> *<a class="code" href="ck__tokenizer_8h.html#aa03130843a2ba7714a87b1bf8ac7e10c">ck_pool_alloc</a>(<a class="code" href="structCKMemPool.html">CKMemPool</a> *pool, <span class="keywordtype">size_t</span> size);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment"> * Allocate and copy string.</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="keywordtype">char</span> *<a class="code" href="ck__tokenizer_8h.html#aaaef67621f30b7a785983b247ab00f94">ck_pool_strdup</a>(<a class="code" href="structCKMemPool.html">CKMemPool</a> *pool, <span class="keyword">const</span> <span class="keywordtype">char</span> *s, <span class="keywordtype">int</span> len);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment"> * Free memory pool.</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="keywordtype">void</span> <a class="code" href="ck__tokenizer_8h.html#aba3724127379a06a8baf1c63d478aa3a">ck_pool_free</a>(<a class="code" href="structCKMemPool.html">CKMemPool</a> *pool);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment"> * Initialize tokenizer.</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment"> * Returns 0 on success, -1 on error.</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="keywordtype">int</span> <a class="code" href="ck__tokenizer_8h.html#a6a224e5a246987a80e869592fd46e36e">ck_tokenizer_init</a>(<a class="code" href="structCKTokenizer.html">CKTokenizer</a> *tok);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment"> * Load tokenizer from HuggingFace tokenizer.json.</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment"> * Returns 0 on success, -1 on error.</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="keywordtype">int</span> <a class="code" href="ck__tokenizer_8h.html#a9d42d9476e56bcb10e04c07265b335fb">ck_tokenizer_load</a>(<a class="code" href="structCKTokenizer.html">CKTokenizer</a> *tok, <span class="keyword">const</span> <span class="keywordtype">char</span> *path);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment"> * Add a token to the vocabulary.</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment"> * Returns the token ID.</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;int32_t <a class="code" href="ck__tokenizer_8h.html#ab7a38c00a25ae5bdc8bb91ee07c26714">ck_tokenizer_add_token</a>(<a class="code" href="structCKTokenizer.html">CKTokenizer</a> *tok, <span class="keyword">const</span> <span class="keywordtype">char</span> *token, <span class="keywordtype">int</span> len);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment"> * Look up token ID by string.</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment"> * Returns token ID or unk_id if not found.</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;int32_t <a class="code" href="ck__tokenizer_8h.html#a2559a1955d6dbd45babf7b294f538494">ck_tokenizer_lookup</a>(<span class="keyword">const</span> <a class="code" href="structCKTokenizer.html">CKTokenizer</a> *tok, <span class="keyword">const</span> <span class="keywordtype">char</span> *token, <span class="keywordtype">int</span> len);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment"> * Add a BPE merge rule.</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="keywordtype">int</span> <a class="code" href="ck__tokenizer_8h.html#a10ff92cd939960842b992ee6faf904cc">ck_tokenizer_add_merge</a>(<a class="code" href="structCKTokenizer.html">CKTokenizer</a> *tok, int32_t left, int32_t right, int32_t merged);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment"> * Look up merge rule for a pair.</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment"> * Returns merge index or -1 if no merge.</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="keywordtype">int</span> <a class="code" href="ck__tokenizer_8h.html#ae0173ee4612f5c5cfd44817e097c927f">ck_tokenizer_lookup_merge</a>(<span class="keyword">const</span> <a class="code" href="structCKTokenizer.html">CKTokenizer</a> *tok, int32_t left, int32_t right);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment"> * Encode text to token IDs.</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment"> * Returns number of tokens written to `ids`.</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="keywordtype">int</span> <a class="code" href="ck__tokenizer_8h.html#aad7d008ac73952c45a288cbb69806835">ck_tokenizer_encode</a>(<span class="keyword">const</span> <a class="code" href="structCKTokenizer.html">CKTokenizer</a> *tok,</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">char</span> *text,</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                        <span class="keywordtype">int</span> text_len,</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                        int32_t *ids,</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                        <span class="keywordtype">int</span> max_ids);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment"> * Decode token IDs to text.</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment"> * Returns number of bytes written to `text`.</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="keywordtype">int</span> <a class="code" href="ck__tokenizer_8h.html#a25fd8f38cf8e62b1e19e347e53225e8c">ck_tokenizer_decode</a>(<span class="keyword">const</span> <a class="code" href="structCKTokenizer.html">CKTokenizer</a> *tok,</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                        <span class="keyword">const</span> int32_t *ids,</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                        <span class="keywordtype">int</span> num_ids,</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                        <span class="keywordtype">char</span> *text,</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                        <span class="keywordtype">int</span> max_len);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment"> * Get token string for an ID.</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment"> * Returns NULL if ID is invalid.</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="ck__tokenizer_8h.html#a8305a4a576ed2473bccd0a5dff347aa1">ck_tokenizer_id_to_token</a>(<span class="keyword">const</span> <a class="code" href="structCKTokenizer.html">CKTokenizer</a> *tok, int32_t <span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment"> * Free tokenizer resources.</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="keywordtype">void</span> <a class="code" href="ck__tokenizer_8h.html#adcfcdd58b3b91d043d6974b35aea1ad4">ck_tokenizer_free</a>(<a class="code" href="structCKTokenizer.html">CKTokenizer</a> *tok);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment"> * Get vocabulary size.</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="ck__tokenizer_8h.html#aed1d9d02b4dfc4cafcea97d08c44964e">  196</a></span>&#160;<span class="keyword">static</span> <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="ck__tokenizer_8h.html#aed1d9d02b4dfc4cafcea97d08c44964e">ck_tokenizer_vocab_size</a>(<span class="keyword">const</span> <a class="code" href="structCKTokenizer.html">CKTokenizer</a> *tok) {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">return</span> tok-&gt;<a class="code" href="structCKTokenizer.html#ada5e95a402ab1abb0295df8e1ecccc04">vocab_size</a>;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;}</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160; </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;}</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* CK_TOKENIZER_H */</span><span class="preprocessor"></span></div>
<div class="ttc" id="ack__tokenizer_8h_html_a10ff92cd939960842b992ee6faf904cc"><div class="ttname"><a href="ck__tokenizer_8h.html#a10ff92cd939960842b992ee6faf904cc">ck_tokenizer_add_merge</a></div><div class="ttdeci">int ck_tokenizer_add_merge(CKTokenizer *tok, int32_t left, int32_t right, int32_t merged)</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8c_source.html#l00228">ck_tokenizer.c:228</a></div></div>
<div class="ttc" id="ack__tokenizer_8h_html_a22dd876d597bf3a6f43e60d0702a7065"><div class="ttname"><a href="ck__tokenizer_8h.html#a22dd876d597bf3a6f43e60d0702a7065">ck_pool_init</a></div><div class="ttdeci">void ck_pool_init(CKMemPool *pool)</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8c_source.html#l00031">ck_tokenizer.c:31</a></div></div>
<div class="ttc" id="ack__tokenizer_8h_html_a2559a1955d6dbd45babf7b294f538494"><div class="ttname"><a href="ck__tokenizer_8h.html#a2559a1955d6dbd45babf7b294f538494">ck_tokenizer_lookup</a></div><div class="ttdeci">int32_t ck_tokenizer_lookup(const CKTokenizer *tok, const char *token, int len)</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8c_source.html#l00207">ck_tokenizer.c:207</a></div></div>
<div class="ttc" id="ack__tokenizer_8h_html_a25fd8f38cf8e62b1e19e347e53225e8c"><div class="ttname"><a href="ck__tokenizer_8h.html#a25fd8f38cf8e62b1e19e347e53225e8c">ck_tokenizer_decode</a></div><div class="ttdeci">int ck_tokenizer_decode(const CKTokenizer *tok, const int32_t *ids, int num_ids, char *text, int max_len)</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8c_source.html#l00717">ck_tokenizer.c:717</a></div></div>
<div class="ttc" id="ack__tokenizer_8h_html_a6a224e5a246987a80e869592fd46e36e"><div class="ttname"><a href="ck__tokenizer_8h.html#a6a224e5a246987a80e869592fd46e36e">ck_tokenizer_init</a></div><div class="ttdeci">int ck_tokenizer_init(CKTokenizer *tok)</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8c_source.html#l00128">ck_tokenizer.c:128</a></div></div>
<div class="ttc" id="ack__tokenizer_8h_html_a8305a4a576ed2473bccd0a5dff347aa1"><div class="ttname"><a href="ck__tokenizer_8h.html#a8305a4a576ed2473bccd0a5dff347aa1">ck_tokenizer_id_to_token</a></div><div class="ttdeci">const char * ck_tokenizer_id_to_token(const CKTokenizer *tok, int32_t id)</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8c_source.html#l00219">ck_tokenizer.c:219</a></div></div>
<div class="ttc" id="ack__tokenizer_8h_html_a9d42d9476e56bcb10e04c07265b335fb"><div class="ttname"><a href="ck__tokenizer_8h.html#a9d42d9476e56bcb10e04c07265b335fb">ck_tokenizer_load</a></div><div class="ttdeci">int ck_tokenizer_load(CKTokenizer *tok, const char *path)</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8c_source.html#l00412">ck_tokenizer.c:412</a></div></div>
<div class="ttc" id="ack__tokenizer_8h_html_aa03130843a2ba7714a87b1bf8ac7e10c"><div class="ttname"><a href="ck__tokenizer_8h.html#aa03130843a2ba7714a87b1bf8ac7e10c">ck_pool_alloc</a></div><div class="ttdeci">void * ck_pool_alloc(CKMemPool *pool, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8c_source.html#l00049">ck_tokenizer.c:49</a></div></div>
<div class="ttc" id="ack__tokenizer_8h_html_aaaef67621f30b7a785983b247ab00f94"><div class="ttname"><a href="ck__tokenizer_8h.html#aaaef67621f30b7a785983b247ab00f94">ck_pool_strdup</a></div><div class="ttdeci">char * ck_pool_strdup(CKMemPool *pool, const char *s, int len)</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8c_source.html#l00078">ck_tokenizer.c:78</a></div></div>
<div class="ttc" id="ack__tokenizer_8h_html_aad7d008ac73952c45a288cbb69806835"><div class="ttname"><a href="ck__tokenizer_8h.html#aad7d008ac73952c45a288cbb69806835">ck_tokenizer_encode</a></div><div class="ttdeci">int ck_tokenizer_encode(const CKTokenizer *tok, const char *text, int text_len, int32_t *ids, int max_ids)</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8c_source.html#l00618">ck_tokenizer.c:618</a></div></div>
<div class="ttc" id="ack__tokenizer_8h_html_ab7a38c00a25ae5bdc8bb91ee07c26714"><div class="ttname"><a href="ck__tokenizer_8h.html#ab7a38c00a25ae5bdc8bb91ee07c26714">ck_tokenizer_add_token</a></div><div class="ttdeci">int32_t ck_tokenizer_add_token(CKTokenizer *tok, const char *token, int len)</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8c_source.html#l00176">ck_tokenizer.c:176</a></div></div>
<div class="ttc" id="ack__tokenizer_8h_html_aba3724127379a06a8baf1c63d478aa3a"><div class="ttname"><a href="ck__tokenizer_8h.html#aba3724127379a06a8baf1c63d478aa3a">ck_pool_free</a></div><div class="ttdeci">void ck_pool_free(CKMemPool *pool)</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8c_source.html#l00087">ck_tokenizer.c:87</a></div></div>
<div class="ttc" id="ack__tokenizer_8h_html_adcfcdd58b3b91d043d6974b35aea1ad4"><div class="ttname"><a href="ck__tokenizer_8h.html#adcfcdd58b3b91d043d6974b35aea1ad4">ck_tokenizer_free</a></div><div class="ttdeci">void ck_tokenizer_free(CKTokenizer *tok)</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8c_source.html#l00163">ck_tokenizer.c:163</a></div></div>
<div class="ttc" id="ack__tokenizer_8h_html_ae0173ee4612f5c5cfd44817e097c927f"><div class="ttname"><a href="ck__tokenizer_8h.html#ae0173ee4612f5c5cfd44817e097c927f">ck_tokenizer_lookup_merge</a></div><div class="ttdeci">int ck_tokenizer_lookup_merge(const CKTokenizer *tok, int32_t left, int32_t right)</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8c_source.html#l00256">ck_tokenizer.c:256</a></div></div>
<div class="ttc" id="ack__tokenizer_8h_html_aed1d9d02b4dfc4cafcea97d08c44964e"><div class="ttname"><a href="ck__tokenizer_8h.html#aed1d9d02b4dfc4cafcea97d08c44964e">ck_tokenizer_vocab_size</a></div><div class="ttdeci">static int ck_tokenizer_vocab_size(const CKTokenizer *tok)</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8h_source.html#l00196">ck_tokenizer.h:196</a></div></div>
<div class="ttc" id="astructCKMemPool_html"><div class="ttname"><a href="structCKMemPool.html">CKMemPool</a></div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8h_source.html#l00044">ck_tokenizer.h:44</a></div></div>
<div class="ttc" id="astructCKMemPool_html_a4fa13f6e99896ec541cba40c99e70f9c"><div class="ttname"><a href="structCKMemPool.html#a4fa13f6e99896ec541cba40c99e70f9c">CKMemPool::current</a></div><div class="ttdeci">CKPoolBlock * current</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8h_source.html#l00046">ck_tokenizer.h:46</a></div></div>
<div class="ttc" id="astructCKMemPool_html_ac7919cceb17dccce7584f443a2f9eb4e"><div class="ttname"><a href="structCKMemPool.html#ac7919cceb17dccce7584f443a2f9eb4e">CKMemPool::head</a></div><div class="ttdeci">CKPoolBlock * head</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8h_source.html#l00045">ck_tokenizer.h:45</a></div></div>
<div class="ttc" id="astructCKMemPool_html_ac7e607885b7d68b849240ab7cd91ddac"><div class="ttname"><a href="structCKMemPool.html#ac7e607885b7d68b849240ab7cd91ddac">CKMemPool::total_allocated</a></div><div class="ttdeci">size_t total_allocated</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8h_source.html#l00047">ck_tokenizer.h:47</a></div></div>
<div class="ttc" id="astructCKMergeRule_html"><div class="ttname"><a href="structCKMergeRule.html">CKMergeRule</a></div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8h_source.html#l00066">ck_tokenizer.h:66</a></div></div>
<div class="ttc" id="astructCKMergeRule_html_a2f4fb999c8ad7581926948836ad96949"><div class="ttname"><a href="structCKMergeRule.html#a2f4fb999c8ad7581926948836ad96949">CKMergeRule::left</a></div><div class="ttdeci">int32_t left</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8h_source.html#l00067">ck_tokenizer.h:67</a></div></div>
<div class="ttc" id="astructCKMergeRule_html_ad429814a773c9faa0526991078347e4f"><div class="ttname"><a href="structCKMergeRule.html#ad429814a773c9faa0526991078347e4f">CKMergeRule::right</a></div><div class="ttdeci">int32_t right</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8h_source.html#l00068">ck_tokenizer.h:68</a></div></div>
<div class="ttc" id="astructCKMergeRule_html_adacd50b760f95bfe3bd04d8618fb4c19"><div class="ttname"><a href="structCKMergeRule.html#adacd50b760f95bfe3bd04d8618fb4c19">CKMergeRule::merged</a></div><div class="ttdeci">int32_t merged</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8h_source.html#l00069">ck_tokenizer.h:69</a></div></div>
<div class="ttc" id="astructCKMergeRule_html_af89e288682de3079e22683c57b629d4c"><div class="ttname"><a href="structCKMergeRule.html#af89e288682de3079e22683c57b629d4c">CKMergeRule::priority</a></div><div class="ttdeci">int priority</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8h_source.html#l00070">ck_tokenizer.h:70</a></div></div>
<div class="ttc" id="astructCKPoolBlock_html"><div class="ttname"><a href="structCKPoolBlock.html">CKPoolBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8h_source.html#l00037">ck_tokenizer.h:37</a></div></div>
<div class="ttc" id="astructCKPoolBlock_html_a28b34d622ad98214bd709675b430f459"><div class="ttname"><a href="structCKPoolBlock.html#a28b34d622ad98214bd709675b430f459">CKPoolBlock::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8h_source.html#l00038">ck_tokenizer.h:38</a></div></div>
<div class="ttc" id="astructCKPoolBlock_html_a39f197d57191d7ab700d17ad918d03c5"><div class="ttname"><a href="structCKPoolBlock.html#a39f197d57191d7ab700d17ad918d03c5">CKPoolBlock::next</a></div><div class="ttdeci">struct CKPoolBlock * next</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8h_source.html#l00041">ck_tokenizer.h:41</a></div></div>
<div class="ttc" id="astructCKPoolBlock_html_ad15144404362a0676f0c46a5b5a8d0ba"><div class="ttname"><a href="structCKPoolBlock.html#ad15144404362a0676f0c46a5b5a8d0ba">CKPoolBlock::used</a></div><div class="ttdeci">size_t used</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8h_source.html#l00039">ck_tokenizer.h:39</a></div></div>
<div class="ttc" id="astructCKPoolBlock_html_ae3840902acd7df911c6273760f3c63d5"><div class="ttname"><a href="structCKPoolBlock.html#ae3840902acd7df911c6273760f3c63d5">CKPoolBlock::capacity</a></div><div class="ttdeci">size_t capacity</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8h_source.html#l00040">ck_tokenizer.h:40</a></div></div>
<div class="ttc" id="astructCKTokenizer_html"><div class="ttname"><a href="structCKTokenizer.html">CKTokenizer</a></div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8h_source.html#l00076">ck_tokenizer.h:76</a></div></div>
<div class="ttc" id="astructCKTokenizer_html_a0e16f753888edda5716eefba903d6001"><div class="ttname"><a href="structCKTokenizer.html#a0e16f753888edda5716eefba903d6001">CKTokenizer::bos_id</a></div><div class="ttdeci">int32_t bos_id</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8h_source.html#l00098">ck_tokenizer.h:98</a></div></div>
<div class="ttc" id="astructCKTokenizer_html_a32688c8d51853200d766b68f9e27b3e4"><div class="ttname"><a href="structCKTokenizer.html#a32688c8d51853200d766b68f9e27b3e4">CKTokenizer::pool</a></div><div class="ttdeci">CKMemPool pool</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8h_source.html#l00078">ck_tokenizer.h:78</a></div></div>
<div class="ttc" id="astructCKTokenizer_html_a35f73551a504361ab117452f40fe81bf"><div class="ttname"><a href="structCKTokenizer.html#a35f73551a504361ab117452f40fe81bf">CKTokenizer::unk_id</a></div><div class="ttdeci">int32_t unk_id</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8h_source.html#l00097">ck_tokenizer.h:97</a></div></div>
<div class="ttc" id="astructCKTokenizer_html_a52c39349a30ea0dfb6ab48fa975e6fed"><div class="ttname"><a href="structCKTokenizer.html#a52c39349a30ea0dfb6ab48fa975e6fed">CKTokenizer::vocab_hash</a></div><div class="ttdeci">CKVocabEntry ** vocab_hash</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8h_source.html#l00082">ck_tokenizer.h:82</a></div></div>
<div class="ttc" id="astructCKTokenizer_html_a70622f7babd13c77a93825497fdf2c5f"><div class="ttname"><a href="structCKTokenizer.html#a70622f7babd13c77a93825497fdf2c5f">CKTokenizer::eos_id</a></div><div class="ttdeci">int32_t eos_id</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8h_source.html#l00099">ck_tokenizer.h:99</a></div></div>
<div class="ttc" id="astructCKTokenizer_html_a8271e0624b9f4efe137f25938204bbcb"><div class="ttname"><a href="structCKTokenizer.html#a8271e0624b9f4efe137f25938204bbcb">CKTokenizer::vocab_hash_size</a></div><div class="ttdeci">int vocab_hash_size</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8h_source.html#l00083">ck_tokenizer.h:83</a></div></div>
<div class="ttc" id="astructCKTokenizer_html_a8668f96025566da654689955d9407400"><div class="ttname"><a href="structCKTokenizer.html#a8668f96025566da654689955d9407400">CKTokenizer::add_eos</a></div><div class="ttdeci">bool add_eos</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8h_source.html#l00104">ck_tokenizer.h:104</a></div></div>
<div class="ttc" id="astructCKTokenizer_html_a9b7a80f60b651e50d40ffb9b1130eccc"><div class="ttname"><a href="structCKTokenizer.html#a9b7a80f60b651e50d40ffb9b1130eccc">CKTokenizer::merge_hash_size</a></div><div class="ttdeci">int merge_hash_size</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8h_source.html#l00094">ck_tokenizer.h:94</a></div></div>
<div class="ttc" id="astructCKTokenizer_html_a9fbb827cf89c461569b0dfc2b8ef5fe9"><div class="ttname"><a href="structCKTokenizer.html#a9fbb827cf89c461569b0dfc2b8ef5fe9">CKTokenizer::merges</a></div><div class="ttdeci">CKMergeRule * merges</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8h_source.html#l00089">ck_tokenizer.h:89</a></div></div>
<div class="ttc" id="astructCKTokenizer_html_ad5b185154ee2ab0a381c7bf49918d836"><div class="ttname"><a href="structCKTokenizer.html#ad5b185154ee2ab0a381c7bf49918d836">CKTokenizer::num_merges</a></div><div class="ttdeci">int num_merges</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8h_source.html#l00090">ck_tokenizer.h:90</a></div></div>
<div class="ttc" id="astructCKTokenizer_html_ada5e95a402ab1abb0295df8e1ecccc04"><div class="ttname"><a href="structCKTokenizer.html#ada5e95a402ab1abb0295df8e1ecccc04">CKTokenizer::vocab_size</a></div><div class="ttdeci">int vocab_size</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8h_source.html#l00081">ck_tokenizer.h:81</a></div></div>
<div class="ttc" id="astructCKTokenizer_html_ae92078c4ca97a78a2fcce8d3193d4cd1"><div class="ttname"><a href="structCKTokenizer.html#ae92078c4ca97a78a2fcce8d3193d4cd1">CKTokenizer::merge_hash</a></div><div class="ttdeci">int * merge_hash</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8h_source.html#l00093">ck_tokenizer.h:93</a></div></div>
<div class="ttc" id="astructCKTokenizer_html_af13d7f81c356bfb82e80d6742352a376"><div class="ttname"><a href="structCKTokenizer.html#af13d7f81c356bfb82e80d6742352a376">CKTokenizer::add_bos</a></div><div class="ttdeci">bool add_bos</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8h_source.html#l00103">ck_tokenizer.h:103</a></div></div>
<div class="ttc" id="astructCKTokenizer_html_af683cca99ab7ca70c6b680c4a276277b"><div class="ttname"><a href="structCKTokenizer.html#af683cca99ab7ca70c6b680c4a276277b">CKTokenizer::pad_id</a></div><div class="ttdeci">int32_t pad_id</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8h_source.html#l00100">ck_tokenizer.h:100</a></div></div>
<div class="ttc" id="astructCKTokenizer_html_af7e721862c04e51d7e68e1bb2658ddd7"><div class="ttname"><a href="structCKTokenizer.html#af7e721862c04e51d7e68e1bb2658ddd7">CKTokenizer::id_to_token</a></div><div class="ttdeci">char ** id_to_token</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8h_source.html#l00086">ck_tokenizer.h:86</a></div></div>
<div class="ttc" id="astructCKVocabEntry_html"><div class="ttname"><a href="structCKVocabEntry.html">CKVocabEntry</a></div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8h_source.html#l00055">ck_tokenizer.h:55</a></div></div>
<div class="ttc" id="astructCKVocabEntry_html_a2d8a45dd0e89ae71a3a97e0bc02632df"><div class="ttname"><a href="structCKVocabEntry.html#a2d8a45dd0e89ae71a3a97e0bc02632df">CKVocabEntry::next</a></div><div class="ttdeci">struct CKVocabEntry * next</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8h_source.html#l00059">ck_tokenizer.h:59</a></div></div>
<div class="ttc" id="astructCKVocabEntry_html_a408830871dd1e7bb7fd60fccd7097d13"><div class="ttname"><a href="structCKVocabEntry.html#a408830871dd1e7bb7fd60fccd7097d13">CKVocabEntry::token</a></div><div class="ttdeci">char * token</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8h_source.html#l00056">ck_tokenizer.h:56</a></div></div>
<div class="ttc" id="astructCKVocabEntry_html_a667d73bdaec1e4affe0a3f5f397aba85"><div class="ttname"><a href="structCKVocabEntry.html#a667d73bdaec1e4affe0a3f5f397aba85">CKVocabEntry::token_len</a></div><div class="ttdeci">int token_len</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8h_source.html#l00057">ck_tokenizer.h:57</a></div></div>
<div class="ttc" id="astructCKVocabEntry_html_ada9b8b0a4490ac11fa8c1571dbd540e9"><div class="ttname"><a href="structCKVocabEntry.html#ada9b8b0a4490ac11fa8c1571dbd540e9">CKVocabEntry::id</a></div><div class="ttdeci">int32_t id</div><div class="ttdef"><b>Definition:</b> <a href="ck__tokenizer_8h_source.html#l00058">ck_tokenizer.h:58</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="ck__tokenizer_8h.html">ck_tokenizer.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
